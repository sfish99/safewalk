<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>SafeWalk – ליווי AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- CSS file for designing AI escorting page-->
  <link rel="stylesheet" href="../css/ai.css"/>
</head>
<body>
  <div class="shell">
    <header>
      <div class="brand">
        <div class="logo">
          <img src="../images/logo.png" alt="לוגו SafeWalk – דמות בתוך מגן">
        </div>
        <div>
          <h1 class="title">SafeWalk – ליווי AI</h1>
          <div class="subtitle">
            מלווה קולית רגועה שמדמה נוכחות לידך
          </div>
        </div>
      </div>

      <div class="role-bar">
        <button class="role-btn active" type="button">מלווה AI</button>
      </div>
    </header>

    <main>
      <section class="card">
        <h2>הפעלת ליווי AI</h2>
        <p>
          כאשר אין מתנדבת זמינה, הבינה המלאכותית מלווה אותך בקול רגוע,
          כאילו יש מישהו קרוב שמלווה אותך לאורך הדרך.
        </p>

        <div class="buttons">
          <button id="startAiBtn" type="button">התחל/י ליווי AI</button>
          <button id="stopAiBtn" type="button" disabled>עצור/י ליווי</button>
          <button id="muteAiBtn" type="button" disabled>השתקה/בטלי השתקה</button>
        </div>

        <div id="aiStatus" class="status">
          ליווי AI כבוי כרגע.
        </div>
      </section>

      <!-- כרטיס: צ'אט עם המלווה -->
      <section class="card">
        <h2>שיחה עם המלווה</h2>
        <p>
          המלווה מבוססת הבינה המלאכותית מדברת איתך בטון רגוע, מחזקת ומעודדת בזמן ההליכה.
        </p>

        <!-- הודעות צ'אט -->
        <div id="aiMessages" class="log">
          <div class="msg msg-ai">
            <strong>המלווה:</strong> שלום, אני איתך. נתחיל ליווי עכשיו 💗
          </div>
        </div>

        <!-- קלט צ'אט -->
        <form id="chatForm" class="chat-form">
          <input
            id="userMessage"
            type="text"
            placeholder="ספרי לי איך את מרגישה עכשיו…"
            autocomplete="off"
          />
          <button type="submit">שלחי</button>
          <button type="button" id="voiceInputBtn" title="דיבור למלל">🎤</button>
        </form>

        <!-- שליטה בקול -->
        <div class="voice-row">
          <span id="voiceStatus">קריאה בקול: פעיל</span>
          <button type="button" id="toggleVoiceBtn">
            כיבוי/הפעלת קול
          </button>
        </div>
      </section>

      <!-- כרטיס: זיהוי מילות מצוקה -->
      <section class="card">
        <h2>זיהוי מצוקה אוטומטי</h2>
        <p>
          הבינה המלאכותית מאזינה למילים שמורות כמו:
          <strong>"עזרה"</strong>, <strong>"מפחיד"</strong>, <strong>"תתקשרו למישהו"</strong>.
          בעת זיהוי מילים כאלה, היא יכולה להמליץ על פנייה למוקד חירום או לגורם אנושי.
        </p>
        <ul class="list">
          <li>תגובה קולית מרגיעה (למשל: "אני איתך, הכול בסדר").</li>
          <li>הצעה ליצור קשר עם מוקד חירום.</li>
          <li>פתיחת אפשרות לחיוג/שליחת הודעה לגורם חירום שנבחר.</li>
        </ul>

        <div class="hint">
          להדגמה, לחיצה על הכפתור למטה יכולה לייצג מצב שבו זוהתה מילת מצוקה.
        </div>

        <div class="center">
          <button id="simulateKeywordBtn" type="button">
            סימולציית זיהוי "עזרה"
          </button>
        </div>

        <div id="emergencyStatus" class="status">
          לא זוהתה מצוקה.
        </div>
      </section>

      <!-- SOS button -->
      <div class="sos-wrap">
        <button type="button" class="sos" id="sosBtn">
          SOS
        </button>
      </div>
    </main>

  </div>

  <!-- JS for AI escort -->
  <script src="../js/ai_escort.js"></script>
</body>
</html>
